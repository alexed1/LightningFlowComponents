<template>
    <lightning-layout multiple-rows="true">
        <lightning-layout-item size="4" class="slds-p-left--small">
            <lightning-layout>
                <lightning-layout-item size="1" class="slds-align-bottom slds-p-bottom_xx-small">
                    <div class="slds-text-heading_small">
                        {position}
                    </div>
                </lightning-layout-item>
                <lightning-layout-item size="11">
                    <lightning-combobox name="field"
                                        label="Field"
                                        placeholder="Field"
                                        options={fields}
                                        value={fieldName}
                                        onchange={selectField}>
                    </lightning-combobox>
                </lightning-layout-item>
            </lightning-layout>
        </lightning-layout-item>
        <lightning-layout-item size="2" class="slds-p-left--small">
            <lightning-combobox
                    name="objectTypeField"
                    label="Operator"
                    value={operator}
                    placeholder="Operator"
                    options={availableOperators}
                    onchange={handleOperatorChange}
                    disabled={disabledFilter}
            ></lightning-combobox>
        </lightning-layout-item>
        <lightning-layout-item size="6" class="slds-p-left--small">
            <lightning-layout>
                <lightning-layout-item size="11">
                    <label class="slds-form-element__label" for="input">Value</label>
                    <div class="slds-form-element__control">
                        <input id="input"
                               name="input"
                               list="valueList"
                               class="slds-input"
                               type="text"
                               disabled={disabledFilter}
                               oninput={handleValueChange}
                               value={value}
                        />
                        <datalist id="valueList" class="">
                            <template for:each={availableMergeFields} for:item='item'>
                                <option key={item.key} value={item.APIName}>{item.Label}</option>
                            </template>
                        </datalist>
                    </div>
                </lightning-layout-item>
                <lightning-layout-item size="1" class="slds-p-left--xx-small slds-align-bottom">
                    <lightning-button-icon
                            icon-name="utility:delete"
                            alternative-text="Delete"
                            onclick={handleExpressionRemove}
                            class="slds-m-left_xx-small">
                    </lightning-button-icon>
                </lightning-layout-item>
            </lightning-layout>
        </lightning-layout-item>
    </lightning-layout>
</template>